<!DOCTYPE html>
<html>
  <head>
    <title>laut.fm JS tools demo</title>
    <meta content='text/html;charset=utf-8' http-equiv='content-type'>
    <script type="text/javascript" src="//api.laut.fm/js_tools/lautfm_js_tools.0.10.0.js" ></script>
  </head>
  <body>
    <div id="container"></div>
    
    <script>
      var container = document.getElementById('container');
      
      var show_playlists = function(playlists){
        var buffer = [];
        
        playlists.forEach(function(playlist){
          buffer.push('<ul>');
          for (attr in playlist) {
            
            var value = [];
            if(attr == 'airtimes'){
              playlist.airtimes.forEach(function(airtime){
                value.push(airtime.day, ' ', airtime.hour, ', ');
              })
            } else {
              value.push(playlist[attr]);
            }
            buffer.push('<li>', attr, ': ', value.join(''), '</li>');
          }
          buffer.push('</ul>');
        })
        
        container.innerHTML = buffer.join('');
      };
      
      laut.fm.station('disco').playlists(show_playlists);
    </script>
    
  </body>
</html>
